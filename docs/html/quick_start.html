







<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Quick Start | docs</title>
    <link rel="shortcut icon" href="_static/favicon.ico">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css">
    <link rel="stylesheet" href="_static/theme.css" type="text/css">
    
      
    <link rel="stylesheet" type="text/css" href="_static/css/miros_docs.css" />
      
    
    

    
    <script type="text/javascript" src="_static/theme.js" defer></script>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    
    <script src="_static/jquery.js"></script>
    
    <script src="_static/underscore.js"></script>
    
    <script src="_static/doctools.js"></script>
    
    <script src="_static/language_data.js"></script>
    
    

    
      
      
    <link rel="index" title="Index" href="genindex.html">
      
      
    <link rel="search" title="Search" href="search.html">
      
      
      
    <link rel="next" title="How it Works" href="how_it_works.html">
      
      
    <link rel="prev" title="Installation" href="installation.html">
      
    

    

    

    
  </head>

  <body>
    <header class="main-header">
      <div class="navbar">
        <div id="js-sidebar-mask" class="sidebar-mask"></div>
        <div id="js-sidebar-menu-button" class="sidebar-menu-button">
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg>
        </div>
        <a href="index.html" class="site-link">
          
          miros rabbit-mq
          
        </a>
        <div class="navbar-links">
          <a href="introduction.html" class="navbar-link">Docs</a>
          
          <a href="https://github.com/aleph2c/miros-rabbitmq" class="navbar-link">GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
          
        </div>
      </div>
    </header>

    <main class="main-wrapper">
      
      <div id="js-main-sidebar" class="main-sidebar">
        
        <div class="sidebar-content sidebar-content--divider sidebar-navbar-links">
          <a href="https://github.com/aleph2c/miros-rabbitmq" class="sidebar-navbar-link">GitHub</a>
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
        </div>
        
        
        <div class="sidebar-content sidebar-logo">
    <a href="index.html">
      <img class="logo" src="_static/miros_rabbitmq_logo_v2.svg" alt="miros" >
    </a>
</div>
        
        

<h2 class="sidebar-heading">Contents</h2>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing_infrastructure.html">DevOps</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_it_works.html">How it Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="reflection.html">Reflection</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Documenting</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment</a></li>
</ul>

        
        <h3 class="sidebar-heading">About</h3>
<p class="sidebar-content">
  A networking plugin for miros
</p>
<h3 class="sidebar-heading">Useful Links</h3>
<ul>
  <li><a href="https://github.com/aleph2c/miros-rabbitmq">miros-rabbitmq on Github</a></li>
  <li><a href="https://aleph2c.github.io/miros/html">miros</a></li>
  <li><a href="https://github.com/aleph2c/miros">miros on Github</a></li>
  <li><a href="https://github.com/aleph2c/sequence">sequence on Github</a></li>
  <li><a href="http://www.umlet.com">UMLet (drawing tool)</a></li>
</ul>

<h3 class="sidebar-heading">Tutorials</h3>
<ul>
  <li><a href="https://www.rabbitmq.com/tutorials/tutorial-one-python.html">basics</a></li>
  <li><a href="https://www.rabbitmq.com/tutorials/tutorial-two-python.html">work queues</a></li>
  <li><a href="https://www.rabbitmq.com/tutorials/tutorial-three-python.html">publish subscribe</a></li>
  <li><a href="https://www.rabbitmq.com/tutorials/tutorial-four-python.html">routing</a></li>
  <li><a href="https://www.rabbitmq.com/tutorials/tutorial-five-python.html">topics</a></li>
  <li><a href="https://www.rabbitmq.com/tutorials/tutorial-six-python.html">remote procedure calls (rpc)</a></li>
</ul>

<h3 class="sidebar-heading">Videos</h3>
<ul>
  <li><a href="https://www.youtube.com/watch?v=deG25y_r6OY">RabbitMQ in Five Minutes</a></li>
  <li><a href="https://www.youtube.com/watch?v=gKzKUmtOwR4">RabbitMQ Windows Install</a></li>
</ul>
        
        

<div id="searchbox" style="display: none" role="search">
  <h2 id="searchlabel" class="sidebar-heading">Quick search</h2>
  <div class="searchformwrapper sidebar-content">
    <form class="search" action="search.html" method="get">
      <input class="sidebar-search sidebar-search--input" type="text" name="q" aria-labelledby="searchlabel"><input class="sidebar-search sidebar-search--btn" type="submit" value="Go">
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

        
      </div>
      

      
      <div class="main-content main-content--sidebar">
      
        
          
  <div class="section" id="quick-start">
<span id="quick-start-quick-start"></span><h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">#</a></h1>
<blockquote class="epigraph">
<div><p><em>Failure is the seed of success</em></p>
<p class="attribution">—Kaoru Ishikawa</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">miros-rabbitmq</span></code> uses a ping-broadcast to your local area network (LAN) to
fill your ARP table with the IP addresses of all of your locally connected
devices.  Then it tries to connect to the addresses in the ARP table using
RabbitMQ and the encryption key you provide to it’s constructor.  If it can
connect, it will communicate with this device when you transmit messages from
your NetworkedActiveObject or NetworkedFactory objects.</p>
<p>To construct a NetworkedActiveObject or NetworkedFactory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">miros_rabbitmq</span> <span class="kn">import</span> <span class="n">NetworkedActiveObject</span><span class="p">,</span> <span class="n">NetworkedFactory</span>

<span class="c1"># treat the above classes as ActiveObject and Factory but with changes to</span>
<span class="c1"># their constructor, a way to transmit and a way to turn on the live trace and</span>
<span class="c1"># spy across the network</span>

<span class="n">ao</span> <span class="o">=</span>  <span class="n">NetworkedActiveObject</span><span class="p">(</span><span class="s2">&quot;name_1&quot;</span><span class="p">,</span>
        <span class="n">rabbit_user</span> <span class="o">=</span> <span class="s1">&#39;peter&#39;</span><span class="p">,</span>
        <span class="n">rabbit_password</span> <span class="o">=</span> <span class="s1">&#39;rabbit&#39;</span><span class="p">,</span>
        <span class="n">tx_routing_key</span> <span class="o">=</span> <span class="s1">&#39;bob.marley&#39;</span><span class="p">,</span>
        <span class="n">rx_routing_key</span> <span class="o">=</span> <span class="s1">&#39;#.marley&#39;</span><span class="p">,</span>
        <span class="n">mesh_encyption_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;u3u..&#39;</span><span class="p">)</span>

<span class="n">fo</span> <span class="o">=</span>  <span class="n">NetworkedFactory</span><span class="p">(</span><span class="s2">&quot;name_1&quot;</span><span class="p">,</span>
        <span class="n">rabbit_user</span> <span class="o">=</span> <span class="s1">&#39;peter&#39;</span><span class="p">,</span>
        <span class="n">rabbit_password</span> <span class="o">=</span> <span class="s1">&#39;rabbit&#39;</span><span class="p">,</span>
        <span class="n">tx_routing_key</span> <span class="o">=</span> <span class="s1">&#39;bob.marley&#39;</span><span class="p">,</span>
        <span class="n">rx_routing_key</span> <span class="o">=</span> <span class="s1">&#39;#.marley&#39;</span><span class="p">,</span>
        <span class="n">mesh_encyption_key</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;u3u..&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To make a new encryption key:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cryptography</span> <span class="kn">import</span> <span class="n">Fernet</span>
<span class="n">Fernet</span><span class="o">.</span><span class="n">generate_key</span><span class="p">()</span> <span class="c1"># =&gt; b&#39;u3Uc-qAi9iiCv3fkBfRUAKrM1gH8w51-nVU8M8A73Jg=&#39;</span>
</pre></div>
</div>
<p>To start your network threads:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># just use the start_at method as you would before</span>
<span class="n">ao</span><span class="o">.</span><span class="n">start_at</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name_of_state</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">fo</span><span class="o">.</span><span class="n">start_at</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name_of_state</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>To transmit events to another statechart in the network:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">miros.event</span> <span class="kn">import</span> <span class="n">Event</span>
<span class="kn">from</span> <span class="nn">miros.event</span> <span class="kn">import</span> <span class="n">signals</span>

<span class="c1"># This will let you post into the FIFOs of machines that have a rx_routing_key</span>
<span class="c1"># that matches your tx_routing_key and has the correct encryption information</span>
<span class="n">ao</span><span class="o">.</span><span class="n">transmit</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="n">signal</span><span class="o">=</span><span class="n">signals</span><span class="o">.</span><span class="n">HI_FROM_ANOTHER_MACHINE</span><span class="p">))</span>
<span class="n">fo</span><span class="o">.</span><span class="n">transmit</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="n">signal</span><span class="o">=</span><span class="n">signals</span><span class="o">.</span><span class="n">HELLO_FROM_A_NETWORKED_FACTORY</span><span class="p">))</span>
</pre></div>
</div>
<p>To turn on the live trace for a network:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run this code prior to the start_at method</span>
<span class="n">ao</span><span class="o">.</span><span class="n">enable_snoop_trace</span><span class="p">()</span>
<span class="n">ao</span><span class="o">.</span><span class="n">start_at</span><span class="p">(</span><span class="o">&lt;</span><span class="n">state_you_want_to_start_at</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>To turn on the live spy you would just use the <code class="docutils literal notranslate"><span class="pre">enable_snoop_spy()</span></code> method
instead.</p>
</div>


        
        <div class="main-content__right-sidebar">
          <h2 class="sidebar-heading">On this page:</h2>
        </div>
      </div>
    </main>

    <div class="footer-wrapper">
      
      <footer class="main-footer main-footer--sidebar">
      
        <div class="relational-links">
          <div>
            
            ← <a class="relational-link" href="installation.html" title="previous chapter">Installation</a>
            
          </div>
          <div>
            
             <a class="relational-link" href="how_it_works.html" title="next chapter">How it Works</a> →
            
          </div>
        </div>
        
        <div class="copyright">
          © Copyright <span class="js-year"></span>,
          
          <a href="https://github.com/aleph2c" class="copyright_link">Scott Volk</a>.
          
        </div>
        
        
        <div class="last-updated">
          <span class="prefix">Last updated:</span>
          <span class="time">Jul 13, 2020 6:56 AM</span>
        </div>
        
        
        <div class="created-with">
          Created using <a href="http://sphinx-doc.org/" class="copyright_link">Sphinx</a> 3.1.2 with <span class="theme">13ds_theme_one</span>.
        </div>
        
      </footer>
    </div>
  </body>
</html>